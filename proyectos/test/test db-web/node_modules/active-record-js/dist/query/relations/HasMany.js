"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Relation_1 = __importDefault(require("./Relation"));
class HasMany extends Relation_1.default {
    constructor(model, related, foreignKey, localKey = 'id') {
        super(model, related);
        this.related = related;
        this.foreignKey = foreignKey;
        this.localKey = localKey;
    }
    buildQuery() {
        return super.buildQuery().where(`${this.getRelatedTableName()}.${this.foreignKey}`, '=', this.getLocalKeyValue());
    }
}
exports.default = HasMany;
